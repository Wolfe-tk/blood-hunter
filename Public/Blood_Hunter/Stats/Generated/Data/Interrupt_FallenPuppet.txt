new entry "Interrupt_BloodCurseOfTheFallenPuppet"
type "InterruptData"
data "DisplayName" "h68255628gf4c9g4a36g8441gc671f7d04179;1"
data "Description" "h93ff02eag5642g4453gbf3egda8726987a68;1"
data "DescriptionParams" "DealDamage(LevelMapValue(HemocraftDie),Necrotic)"
data "TooltipPermanentWarnings" "37238a0d-186a-401e-ace6-b8168e3bd751;cf1c5a61-69e2-43a3-b8ab-602244c8137c"
data "Icon" "Spell_BloodCurseFallenPuppet"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Cost" "ReactionActionPoint:1;BloodMaledict:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "Conditions" "IsAbleToReact(context.Observer) and IsKillingBlow() and not Self(context.Target,context.Observer) and not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Target) and FallenPuppetHelper() and ((HasPassive('CurseSpecialist', context.Source)) or (not Tagged('UNDEAD') and not Tagged('CONSTRUCT') and not Tagged('ELEMENTAL') and not Tagged('PLANT') and not Tagged('OOZE')))"
data "Properties" "UseSpell(OBSERVER_TARGET,Target_FallenPuppet_Engage,true,true,true)"

new entry "Interrupt_BloodCurseOfTheFallenPuppet_Amplified"
type "InterruptData"
data "DisplayName" "h97470283gf4cag4693gaa06gb68ca693aa08;1"
data "Description" "h59886915gabf0g410bg8ecfg41a08a2eba6f;1"
data "TooltipPermanentWarnings" "37238a0d-186a-401e-ace6-b8168e3bd751;cf1c5a61-69e2-43a3-b8ab-602244c8137c"
data "DescriptionParams" "DealDamage(LevelMapValue(HemocraftDie),Necrotic)"
data "ExtraDescription" "hcd476fdag8f18g48b5gb90egc5d15da4b8e7;3"
data "Icon" "Spell_BloodCurseFallenPuppet_Amplified"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Cost" "ReactionActionPoint:1;BloodMaledict:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "Conditions" "IsAbleToReact(context.Observer) and IsKillingBlow() and not Self(context.Target,context.Observer) and not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Target) and AmpedFallenPuppetHelper()"
data "Properties" "UseSpell(OBSERVER_TARGET,Target_FallenPuppet_Amplified_Engage,true,true,true);ApplyStatus(OBSERVER_OBSERVER,HEMOCRAFT_SELF,100,0)"

new entry "Target_BloodCurseOfTheFallenPuppet_Container"
type "SpellData"
data "ContainerSpells" "Target_BloodCurseOfTheFallenPuppet_Amplified"
data "SpellType" "Target"
data "DisplayName" "h68255628gf4c9g4a36g8441gc671f7d04179;1"
data "Description" "h07b0fff5g402bg4330gbdd3gc103503900d9;1"
data "DescriptionParams" "DealDamage(LevelMapValue(HemocraftDie),Necrotic)"
data "TooltipPermanentWarnings" "37238a0d-186a-401e-ace6-b8168e3bd751;cf1c5a61-69e2-43a3-b8ab-602244c8137c"
data "Icon" "Spell_BloodCurseFallenPuppet"
data "CastTextEvent" "Cast"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsLinkedSpellContainer"
data "InterruptPrototype" "Interrupt_BloodCurseOfTheFallenPuppet"

new entry "Target_BloodCurseOfTheFallenPuppet_Amplified"
type "SpellData"
using "Target_BloodCurseOfTheFallenPuppet_Container"
data "Icon" "Spell_BloodCurseFallenPuppet_Amplified"
data "DisplayName" "h97470283gf4cag4693gaa06gb68ca693aa08;1"
data "Description" "h59886915gabf0g410bg8ecfg41a08a2eba6f;1"
data "SpellContainerID" "Target_BloodCurseOfTheFallenPuppet_Container"
data "SpellFlags" "IsLinkedSpellContainer"
data "InterruptPrototype" "Interrupt_BloodCurseOfTheFallenPuppet_Amplified"

new entry "Target_FallenPuppet_Engage"
type "SpellData"
data "SpellType" "Target"
data "SpellSchool" "None"
data "SpellProperties" "AI_IGNORE:Resurrect(100,1);ApplyStatus(FALLEN_PUPPET,100,1)"
data "TargetRadius" "18"
data "TargetConditions" "Dead() and not Tagged('BLOCK_RESURRECTION')"
data "Icon" "Spell_BloodCurseFallenPuppet"
data "DisplayName" "h68255628gf4c9g4a36g8441gc671f7d04179;1"
data "Description" "ha60a7c3ag8b2fg4216gb9edgd84feab37c59;1"
data "TooltipStatusApply" "ApplyStatus(CREATURE_SPORE_SERVANT, 100, -1)"
data "TooltipPermanentWarnings" "375fe7a4-7a8a-4bbe-812c-0af9584c0740; 635fb54e-b281-4c23-90f5-fc4abb0cf840"
data "CastSound" "CrSpell_Cast_AnimatingSpores"
data "CastTextEvent" "Cast"
data "UseCosts" ""
data "SpellAnimation" "c9f9e5ed-e39f-47a8-bf43-4013ec1a0ce3,,;8ca3941c-09c3-4e11-8454-81e4e6cd64c7,,;6fd2f49d-1537-4bb6-9719-98a543d66f0b,,;dbe65fa1-f13c-4f6f-a9be-9f6dbeb51d9e,,;647899fc-7faa-4feb-8222-6fb374b919dd,,;,,;,,;,,;,,"
data "SpellFlags" "ImmediateCast"
data "CastEffect" "4c724b78-3970-43ea-9109-3dde7df6eb53"
data "TargetEffect" "b04345d2-17a5-4b20-b0a0-17f8e321f0a6"
data "Sheathing" "DontChange"

new entry "Target_FallenPuppet_Amplified_Engage"
type "SpellData"
using "Target_FallenPuppet_Engage"
data "SpellType" "Target"
data "SpellProperties" "AI_IGNORE:Resurrect(100,1);ApplyStatus(FALLEN_PUPPET_AMPLIFIED,100,1)"
data "Icon" "Spell_BloodCurseFallenPuppet_Amplified"
data "DisplayName" "h97470283gf4cag4693gaa06gb68ca693aa08;1"
data "Description" "h59886915gabf0g410bg8ecfg41a08a2eba6f;1"

new entry "FALLEN_PUPPET"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h68255628gf4c9g4a36g8441gc671f7d04179;1"
data "Description" "hbcc5aa20ge298g4001gb19dg8be8d720eaa0;1"
data "Icon" "Spell_BloodCurseFallenPuppet"
data "MeshEffect" "FadeIn:0;FadeOut:0;"
data "Boosts" "FactionOverride(Source);BlockSpellCast();ActionResourceBlock(Movement);IsInvulnerable();Tag(AI_IGNORED_TARGET)"
data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;ApplyToDead;IgnoreResting"
data "TickType" "EndTurn"
data "RemoveEvents" "OnAttack;OnCombatEnded"
data "OnRemoveFunctors" "Kill()"
data "StatusGroups" "SG_Condition"
data "StatusEffect" "567f700b-42d1-4db6-bcb4-36942dc5e456"

new entry "FALLEN_PUPPET_AMPLIFIED"
type "StatusData"
using "FALLEN_PUPPET"
data "StatusType" "BOOST"
data "DisplayName" "h97470283gf4cag4693gaa06gb68ca693aa08;1"
data "Description" "hbcc5aa20ge298g4001gb19dg8be8d720eaa0;1"
data "Icon" "Spell_BloodCurseFallenPuppet_Amplified"
data "Boosts" "FactionOverride(Source);BlockSpellCast();IsInvulnerable();CharacterWeaponDamage(max(1, Cause.IntelligenceModifier));CharacterUnarmedDamage(max(1, Cause.IntelligenceModifier));ActionResourceConsumeMultiplier(Movement, 2,0);Tag(AI_IGNORED_TARGET)"
